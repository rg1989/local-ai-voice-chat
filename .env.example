# Local Voice Chatbot Configuration
# Copy this file to .env and customize as needed

# =============================================================================
# LLM Settings (Ollama)
# =============================================================================
LLM_BASE_URL=http://localhost:11434
LLM_MODEL_NAME=qwen3:8b
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=512

# System prompt for the assistant
# The default prompt includes instructions for using mermaid diagrams, markdown tables,
# and code blocks. You can customize it here:
# LLM_SYSTEM_PROMPT="You are a helpful, friendly assistant. Keep responses clear and well-structured. When asked to create diagrams, flowcharts, or visualizations, use mermaid syntax in a ```mermaid code block. When presenting tabular data, use markdown tables. Use code blocks with language tags for code examples. Use bold, italic, and lists for clarity when appropriate. Be concise but thorough."

# =============================================================================
# Speech-to-Text Settings (MLX Whisper - optimized for Apple Silicon)
# =============================================================================
# MLX Whisper is ~2x faster than other Whisper implementations on Apple Silicon.
# It uses greedy decoding (fastest method) by default.
#
# Available models (speed vs accuracy):
#   mlx-community/whisper-tiny           : Fastest, lower accuracy (~74MB)
#   mlx-community/whisper-base           : Fast, decent accuracy (~140MB)
#   mlx-community/whisper-small          : Good balance (~460MB)
#   mlx-community/whisper-medium         : High accuracy (~1.5GB)
#   mlx-community/whisper-large-v3-turbo : Best balance - RECOMMENDED (~1.5GB)
#   mlx-community/whisper-large-v3       : Highest accuracy, slower (~3GB)
#
# Recommended model by machine RAM:
#   8GB RAM (M1/M2 Air)          : whisper-small
#   16GB RAM (M2 Air/Pro)        : whisper-large-v3-turbo (default)
#   32GB+ RAM (M2/M3/M4 Pro/Max) : whisper-large-v3
#
STT_MODEL_NAME=mlx-community/whisper-large-v3-turbo
STT_LANGUAGE=en

# Condition on previous text (set to true for long-form transcription)
STT_CONDITION_ON_PREVIOUS_TEXT=false

# =============================================================================
# Text-to-Speech Settings
# =============================================================================
# Available voices:
#   American: af_heart, af_bella, af_sarah, af_nicole, af_sky, am_adam, am_michael
#   British: bf_emma, bf_isabella, bm_george, bm_lewis
TTS_VOICE=af_heart

# Speech speed multiplier (0.5 = half speed, 2.0 = double speed)
#   1.0 : Normal speed
#   1.1 : Slightly faster (recommended for snappier responses)
#   1.2 : Noticeably faster
TTS_SPEED=1.1
TTS_OUTPUT_SAMPLE_RATE=24000

# =============================================================================
# Voice Activity Detection Settings
# =============================================================================
VAD_THRESHOLD=0.5
VAD_MIN_SPEECH_DURATION_MS=250
VAD_MIN_SILENCE_DURATION_MS=500
VAD_SPEECH_PAD_MS=30

# =============================================================================
# Audio Settings
# =============================================================================
AUDIO_SAMPLE_RATE=16000
AUDIO_CHANNELS=1
AUDIO_CHUNK_DURATION_MS=30

# =============================================================================
# Web Server Settings
# =============================================================================
WEB_HOST=0.0.0.0
WEB_PORT=8000

# =============================================================================
# Tool Settings
# =============================================================================
# Enable tool use (fetch URLs, run commands, etc.)
TOOLS_ENABLED=true

# Require confirmation for potentially dangerous tools (like run_command)
TOOLS_REQUIRE_CONFIRMATION=false

# Timeout for fetching URLs (seconds)
TOOLS_FETCH_TIMEOUT=10

# Timeout for command execution (seconds)
TOOLS_COMMAND_TIMEOUT=30

# Maximum characters to include from fetched content
TOOLS_MAX_CONTENT_LENGTH=8000

# =============================================================================
# Wake Word Detection Settings (OpenWakeWord)
# =============================================================================
# Enable hands-free activation with wake words like "Hey Jarvis"
# When enabled, the assistant only listens after hearing the wake word,
# then returns to listening mode after a timeout period.
#
# Available wake word models:
#   hey_jarvis  : "Hey Jarvis" (default)
#   alexa       : "Alexa"
#   hey_mycroft : "Hey Mycroft"
#   hey_rhasspy : "Hey Rhasspy"
#
WAKEWORD_ENABLED=false
WAKEWORD_MODEL=hey_jarvis

# Detection confidence threshold (0-1, higher = more strict)
WAKEWORD_THRESHOLD=0.5

# Seconds to stay active after wake word detection
WAKEWORD_TIMEOUT_SECONDS=10

# Debounce time (ms) before allowing re-trigger
WAKEWORD_DEBOUNCE_MS=1000

# =============================================================================
# Debug Settings
# =============================================================================
DEBUG=false
LOG_AUDIO=false
